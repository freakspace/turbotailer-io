{% load wagtailcore_tags wagtailimages_tags wagtailembeds_tags %}

<div class="container mx-auto py-4 md:py-5">
  <div class="flex flex-wrap {% if self.reverse %}flex-row-reverse{% endif %} -mx-2">
    <div class="w-full md:w-1/2 px-2">
      {% if self.image %}
        {% picture self.image width-600 format-{avif,webp,jpeg} loading="lazy" %}
      {% endif %}
      {% if self.embed %}
        <div class="aspect-w-16 aspect-h-9">{% embed self.embed.url %}</div>
      {% endif %}
    </div>
    <div class="w-full md:w-1/2 flex items-center {% if self.reverse %} justify-start pr-md-5 {% else %} pl-md-5 {% endif %} px-2">
      <div>
        {% if self.subtitle %}<h3 class="text-sm text-gray-600">{{ self.subtitle }}</h3>{% endif %}
        <h2 class="text-3xl font-semibold mb-3">{{ self.title }}</h2>
        <p>{{ self.text|richtext }}</p>
        {% if self.buttons %}
          <div class="flex flex-col space-y-3 mt-4">
            {% for button in self.buttons %}
              <div>{% include_block button %}</div>
            {% endfor %}
          </div>
        {% endif %}
      </div>
    </div>
  </div>
</div>
