{% load navigation_tags wagtailcore_tags i18n %}

{% get_site_root as site_root %}
{% for menuitem in menuitems %}
  <li class="nav-item {% if menuitem.active %}active{% endif %} me-3">
    {% if menuitem.show_dropdown %}
      <div class="dropdown">
        <button class="btn border-0 px-0 py-2"
                type="button"
                id="dropdownMenuButton-{{ forloop.counter }}"
                data-bs-toggle="dropdown"
                aria-haspopup="true"
                aria-expanded="false">
          {{ menuitem.title }} <i class="bi bi-three-dots text-secondary"></i>
        </button>
        <!-- Dropdown Menu -->
        <ul class="dropdown-menu"
            aria-labelledby="dropdownMenuButton-{{ forloop.counter }}">
          <!-- Parent Item as the First Item in Dropdown -->
          <li>
            <a class="dropdown-item" href="{% pageurl menuitem %}">{{ menuitem.title }}</a>
          </li>
          <!-- Child Items -->
          {% top_menu_children parent=menuitem %}
        </ul>
      </div>
    {% else %}
      <a href="{% pageurl menuitem %}" class="nav-link text-black">{{ menuitem.title }}</a>
    {% endif %}
  </li>
{% endfor %}
